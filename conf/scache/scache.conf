scache.master.ip=0.0.0.0
scache.master.port=16388
scache.client.port=15678
scache.block.fetching.retry=5
scache.memory.offHeap.size=1024m

# Daemon <-> client IPC (shuffle block bytes) settings.
#
# backend:
#   - files (default): daemon and client exchange blocks via per-block IPC files.
#   - pool           : daemon and client share a single mmap'ed pool file (offset/len),
#                      which can later be placed on a DAX-mounted path (fsdax/devdax wrapper file).
#
# mode:
#   - remote (default): daemon writes IPC file itself, then RPC-notifies client to read.
#   - local           : daemon asks client to prepare/pretouch IPC file first (helps NUMA placement).
#   - auto            : choose per block by consumer host (reduce assignment):
#                       if this host is the assigned reduce host -> dir.local, else -> dir.remote.
#
# dir (absolute paths recommended):
#   - scache.daemon.ipc.dir.remote : disk-backed dir for daemon->client IPC
#   - scache.daemon.ipc.dir.local  : tmpfs dir (e.g. /dev/shm/...) for local-consumer blocks
#   - scache.daemon.ipc.dir.get    : client->daemon IPC dir for GetBlock (defaults to dir.local)
#   - scache.daemon.ipc.dir        : legacy fallback for dir.remote
#
# pool (used when backend=pool):
#   - scache.daemon.ipc.pool.path     : path to a single shared pool file (mmap'ed by both sides)
#   - scache.daemon.ipc.pool.size     : initial size if file does not exist / needs extension
#   - scache.daemon.ipc.pool.mapChunk : mmap chunk size (<= 2g), blocks won't cross chunk boundary
#   - scache.daemon.ipc.pool.align    : allocation alignment in bytes (default 4096)
#
#scache.daemon.ipc.backend=files
#scache.daemon.ipc.mode=auto
#scache.daemon.ipc.dir.remote=/home/yxz/SCache/tmp
#scache.daemon.ipc.dir.local=/dev/shm/scache-ipc
#scache.daemon.ipc.dir.get=/dev/shm/scache-ipc
#scache.daemon.ipc.prepare=true
#scache.daemon.ipc.pretouch=false
#scache.daemon.ipc.pretouch.pageSize=4096
#
# Example (single pool file):
scache.daemon.putBlock.async=false
scache.daemon.ipc.pretouch=true
scache.daemon.ipc.backend=pool

scache.daemon.ipc.pool.path=/dev/shm/scache-ipc.pool
scache.daemon.ipc.pool.zeroCopy.put=true
# NOTE: With `zeroCopy.put=true`, blocks are stored directly in the pool and the
# pool slice is only freed when the block is evicted from the ScacheClient
# MemoryStore. Size the pool >= ScacheClient MemoryStore capacity to avoid:
#   "IPC pool is full; falling back to file IPC ..."
scache.daemon.ipc.pool.size=32g
scache.daemon.ipc.pool.mapChunk=1024m
scache.daemon.ipc.pool.align=4096
#
# StorageLevel used when the client ingests blocks from daemon.
#scache.daemon.putBlock.storageLevel.local=MEMORY_ONLY
#scache.daemon.putBlock.storageLevel.remote=DISK_ONLY
#scache.daemon.putBlock.storageLevel=MEMORY_ONLY
